[Documentation](https://cert-manager.readthedocs.io/en/release-0.6)

*These release notes are a **pre-release** and are subject to change before the release of v0.6.0*

# Highlights

## Introducing ACME 'Order' and 'Challenge' CRDs

This release of cert-manager refactors how ACME certificates are handled significantly.

This should result in:

* Less API calls to Let's Encrypt - information about orders and challenges is now stored within the Kubernetes API
* Better behaviour with regards to rate limits
* A cleaner surface for debugging issues - we can now provide more context and information through the Events API as well as the 'status' field on our API types

This is largely an internal change, but with far reaching benefits.
For more details, check out the details in the pull request (#788).

We are keen to hear feedback on this new design, so please create issues including the `/area provider-acme` text in order to report feedback/problems.

## ECDSA keys supported for ACME certificates

It's now possible to create ECDSA private keys when issuing certificates
from ACME servers. You can configure the key type and key size using `certificate.spec.keyAlgorithm` and `certificate.spec.keySize` respectively.

# Action Required

There is only one PR that changes previous behaviour in this release.

Between v0.4.0 and v0.5.0, we introduced support for following CNAME records when presenting DNS01 challenges. This inadvertently broke DNS01 challenge solving when a user used a CNAME record at the route of their DNS zone (i.e. on Route53 when using an Amazon ELB).

This change reverts the default behaviour to support this kind of setup without additional changes, and instead introduces a new `cnameStrategy` field on ACME Issuer resources. You can set this field to `Follow` to restore the behaviour introduced in v0.5.0.

This note **only** affects the ACME Issuer type.

# Changelog

## General

* Bump Go version to 1.11 (#1050, @munnerz)
* Removed the Git commit hash from the version string in non `canary` builds (#997) (#1021, @Nalum)
* Include ca.crt in created secrets for Issuers that support it (vault, ca and selfsigned) (#848, @Queuecumber)
* Added RBAC permissions for user facing roles to access Certificates and Issuers. (#902, @fuel-wlightning)

## ACME Issuer

* Introduce ACME 'Order' and 'Challenge' resource types & re-implement ACME Issuer to be completely driven by CRDs (#788, @munnerz)
* ACTION REQUIRED: Fix ACME issues relating to wildcard CNAME records and add a 'cnameStrategy' field to the ACME Issuer DNS01 provider config. (#1136, @munnerz)
* Added certmanager.k8s.io/acme-http01-ingress-class annotation to ingress-shim (#1006, @kinolaev)
* Make http01 solver serviceType configurable, so one can use ClusterIP instead of the previously hardcoded type NodePort. NodePort still remains as default. (#924, @arnisoph)
* Revised Cert Issuer Docs for DNS01 challenge and added a doc for AzureDNS (#915, @damienwebdev)
* Make http01 solver pod resource request/limits configurable (#923, @arnisoph)
* Allow ECDSA keys for ACME certificates (#937, @acoshift)
* RFC2136 provider: fixes a minor bug where dns01 `nameserver` key has value with no port (#908, @splashx)

* Add DigitalOcean DNS Provider (#972, @aslafy-z)

## CA Issuer

* Update CA Issuer status condition usage (#961, @munnerz)

## Vault Issuer

* A new field *caBundle* added to the Vault Issuer configures a CA certificate used to validate the connection to the Vault Server. (#911, @vdesjardins)

## Bugfixes

* Increase time between retries for failing issuers and clusterissuers (#981, @munnerz)
* Fix concurrent map write race condition in ACME solver (#1033, @munnerz)

